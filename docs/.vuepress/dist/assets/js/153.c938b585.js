(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{598:function(s,t,a){"use strict";a.r(t);var n=a(21),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"springboot日志的框架"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#springboot日志的框架"}},[s._v("#")]),s._v(" springboot日志的框架")]),s._v(" "),a("p",[s._v("学习springboot日志的框架，学完后会设置日志级别、设置日志的存储路径、设置日志的格式等等。")]),s._v(" "),a("h2",{attrs:{id:"二-剖析springboot的日志框架"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-剖析springboot的日志框架"}},[s._v("#")]),s._v(" 二：剖析springboot的日志框架")]),s._v(" "),a("p",[s._v("slf4j\nlogback、log4j\n从springboot的底层框架spring-boot-starter-logging 可以看出，它依赖了3个框架分别为；slf4j、logback、log4j")]),s._v(" "),a("h3",{attrs:{id:"分析1-slf4j、logback、log4j的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分析1-slf4j、logback、log4j的区别"}},[s._v("#")]),s._v(" 分析1：slf4j、logback、log4j的区别？")]),s._v(" "),a("p",[s._v("1.logback、log4j：是日志实现框架，就是实现怎么记录日志的。\n2.slf4j：提供了java中所有的日志框架的简单抽象（日志的门面设计模式），说白了就是一个日志API（没有实现类），它不能单独使用\n故：必须结合logback或log4j日志框架来实现。")]),s._v(" "),a("h3",{attrs:{id:"分析2-springboot的日志搭配"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分析2-springboot的日志搭配"}},[s._v("#")]),s._v(" 分析2：springboot的日志搭配")]),s._v(" "),a("p",[s._v("springboot2.0默认采用了slf4f+logback的日志搭配。\n在开发过程中，我们都是采用了slf4j的api去记录日志，底层的实现就是根据配置logback或log4j日志框架。")]),s._v(" "),a("p",[s._v("##为什么控制台的日志只输出了 info  warn error?\n因为springboot默认是info级别的")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[s._v("logging.level.com.agan.boot=trace\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"三-配置日志的生成存储路径和日志名称"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-配置日志的生成存储路径和日志名称"}},[s._v("#")]),s._v(" 三：配置日志的生成存储路径和日志名称")]),s._v(" "),a("p",[s._v("在实际的开发中，你不可能一直看着控制台，而且日志会非常大，瞬间就丢失。\n故，我们要把日志存储在指定的目录下；")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一下配置的效果为：项目根目录下/output/logs/spring.log,默认的日志名为spring.log")]),s._v("\nlogging.path=output/logs\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果不想要把日志存放在longging.path默认的根目录下，那就采用自定义的目录和文件名")]),s._v("\nlogging.file=/Volumes/data/logs/springboot.log\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"三-配置日志的内容格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-配置日志的内容格式"}},[s._v("#")]),s._v(" 三：配置日志的内容格式")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# %d-时间格式、%thread-线程、%-5level-从左5字符宽度、%logger{50}-日志50个字符、%msg-信息、%n-换行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置在控制台输出的日志格式")]),s._v("\nlogging.pattern.console=%d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("yyyy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("MM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("dd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("%thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" %"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("5level %logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("%msg%n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置输出到文件的日志格式")]),s._v("\nlogging.pattern.file=%d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("yyyy/MM/dd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("%thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" == %"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("5level == %logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" == %msg%n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);